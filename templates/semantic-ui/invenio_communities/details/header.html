{# -*- coding: utf-8 -*-

  This file is part of Invenio.
  Copyright (C) 2016-2020 CERN.

  Modified by Mesh Research as part of Knowledge Commons Works
  Copyright (C) 2024 Mesh Research

  Invenio is free software; you can redistribute it and/or modify it
  under the terms of the MIT License; see LICENSE file for more details.
#}

{%- from "invenio_theme/macros/truncate.html" import truncate_text %}
{%- from "invenio_communities/details/macros/access-status-label.html" import access_status_label -%}
{{ webpack['invenio-communities-header.js'] }}

{# {{ permissions | pprint }} #}
<div
  class="ui container fluid page-subheader-outer with-submenu rel-pt-2 ml-0-mobile mr-0-mobile">
      <div
        id="community-detail-header"
        class="ui container relaxed grid page-subheader mr-0-mobile ml-0-mobile"
        data-can-read="{{ permissions.can_read }}"
        data-can-moderate="{{ permissions.can_moderate }}"
        data-can-search-requests="{{ permissions.can_search_requests }}"
        data-can-update="{{ permissions.can_update }}"
        data-community-logo-url="{{ community.links.logo | resolve_community_logo(community.id) }}"
        data-community-title="{{ community.metadata.get('title', '')  }}"
        data-community-type="{{ community.ui['type']['title_l10n'] if community.ui.type else '' }}"
        data-organizations='{{ community.metadata.get("organizations", []) | tojson }}'
        data-ror-icon-url="{{ url_for('static', filename='images/ror-icon.svg') }}"
        data-slug="{{ community.slug }}"
        data-visibility="{{ community.access.get('visibility', '') }}"
        data-website="{{ community.website if community.website else '' }}"
        data-has-curation-policy-content="{{ community.metadata.get('curation_policy', '') }}"
        data-has-about-content="{{ community.metadata.get('page', '') }}"
        data-active-menu-item="{{ active_community_header_menu_item }}"
        >
      </div>
  </div>
</div>
